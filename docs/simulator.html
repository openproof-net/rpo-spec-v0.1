<!doctype html>
<html lang="en" data-page="simulator">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OpenProof.net — RPO v0.1 | Deterministic Simulator</title>

  <!-- Fonts (Orbitron + Inter) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg0:#04040E;
      --bg1:#0b0f14;
      --panel: rgba(255,255,255,.03);
      --panel2: rgba(255,255,255,.045);
      --stroke: rgba(212,175,55,.22);
      --stroke2: rgba(212,175,55,.35);
      --text: rgba(245,246,248,.88);
      --muted: rgba(245,246,248,.62);
      --muted2: rgba(245,246,248,.45);
      --gold: #d4af37;
      --gold2:#f1e6a3;
      --danger:#ffcf6a;
      --good:#bde8c3;
      --shadow: 0 20px 60px rgba(0,0,0,.55);
      --radius: 22px;
      --radius2: 16px;
      --fontTitle: "Orbitron", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      --fontText: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      --max: 1440px; /* wider page */
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--fontText);
      color: var(--text);
      background:
        radial-gradient(1100px 650px at 18% 12%, rgba(212,175,55,.14), transparent 60%),
        radial-gradient(900px 520px at 85% 78%, rgba(212,175,55,.10), transparent 58%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 30%, var(--bg0));
      letter-spacing: .1px;
    }

    a{ color:inherit; text-decoration:none; }
    .container{ max-width: var(--max); margin: 0 auto; padding: 0 22px; }

    /* Top nav */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(4,4,14,.78), rgba(4,4,14,.36));
      border-bottom: 1px solid rgba(212,175,55,.12);
    }
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      padding: 14px 0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 260px;
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, var(--gold2), var(--gold));
      box-shadow: 0 0 24px rgba(212,175,55,.35);
    }
    .brandTitle{
      font-family: var(--fontTitle);
      font-weight: 600;
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      opacity:.92;
    }
    .brandSub{
      font-size: 11px;
      color: var(--muted2);
      margin-top:2px;
    }
    .navlinks{
      display:flex;
      align-items:center;
      gap:16px;
      flex-wrap: wrap;
      justify-content:center;
    }
    .navlinks a{
      font-size: 13px;
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: .2s ease;
    }
    .navlinks a:hover{
      color: var(--text);
      border-color: rgba(212,175,55,.18);
      background: rgba(255,255,255,.02);
    }
    .navlinks a.active{
      color: var(--text);
      border-color: rgba(212,175,55,.30);
      background: rgba(212,175,55,.06);
    }

    .cta{
      display:flex; align-items:center; gap:10px;
      min-width: 240px;
      justify-content:flex-end;
    }
    .btn{
      font-family: var(--fontTitle);
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: 11px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(212,175,55,.25);
      background: rgba(255,255,255,.02);
      color: var(--text);
      transition: .2s ease;
      cursor:pointer;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(212,175,55,.45);
      background: rgba(212,175,55,.08);
    }
    .btn.primary{
      border-color: rgba(212,175,55,.55);
      background: linear-gradient(90deg, rgba(212,175,55,.28), rgba(241,230,163,.16));
      box-shadow: 0 10px 30px rgba(212,175,55,.12);
      color: rgba(255,255,255,.92);
    }
    .btn.ghost{
      border-color: rgba(255,255,255,.08);
      color: var(--muted);
    }

    /* Page sections */
    .hero{
      margin-top: 18px;
      padding: 22px 0 14px;
    }
    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02));
      border: 1px solid rgba(212,175,55,.18);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .panel::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(900px 400px at 18% 20%, rgba(212,175,55,.14), transparent 55%),
                  radial-gradient(720px 420px at 85% 85%, rgba(212,175,55,.10), transparent 55%);
      pointer-events:none;
      opacity:.9;
    }
    .panelInner{ position: relative; padding: 22px; }

    .kicker{
      font-family: var(--fontTitle);
      letter-spacing: .18em;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(241,230,163,.78);
      margin-bottom: 10px;
    }
    h1{
      font-family: var(--fontTitle);
      font-weight: 700;
      letter-spacing: .02em;
      margin: 0 0 10px;
      font-size: clamp(28px, 3.4vw, 44px);
      line-height: 1.06;
    }
    .goldWord{ color: var(--gold2); text-shadow: 0 0 30px rgba(212,175,55,.12); }
    .lead{
      max-width: 72ch;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.6;
      margin: 0 0 14px;
    }

    .chipRow{
      display:flex; flex-wrap: wrap; gap:8px;
      margin: 12px 0 14px;
      align-items:center;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(212,175,55,.18);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size: 12px;
      line-height: 1;
      white-space: nowrap;
    }
    .chip b{ color: rgba(255,255,255,.86); font-weight: 600; }
    .chip .tag{
      font-family: var(--fontTitle);
      font-size: 10px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: rgba(241,230,163,.72);
    }

    .heroActions{
      display:flex;
      gap:12px;
      flex-wrap: wrap;
      margin-top: 10px;
      align-items:center;
    }

    /* Layout grid (wide) */
    .grid{
      display:grid;
      grid-template-columns: 1.55fr .75fr;
      gap: 18px;
      align-items:start;
      margin-top: 18px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.018));
      border: 1px solid rgba(212,175,55,.16);
      border-radius: var(--radius);
      box-shadow: 0 18px 50px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }
    .card::before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(760px 340px at 24% 12%, rgba(212,175,55,.08), transparent 56%);
      pointer-events:none;
    }
    .cardHead{
      position:relative;
      padding: 16px 18px 12px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .cardTitle{
      font-family: var(--fontTitle);
      letter-spacing: .18em;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(241,230,163,.78);
    }
    .cardBody{
      position:relative;
      padding: 14px 18px 18px;
    }

    /* Forms */
    .formGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .label{
      font-family: var(--fontTitle);
      letter-spacing: .12em;
      text-transform: uppercase;
      font-size: 10px;
      color: rgba(245,246,248,.60);
    }
    input, select, textarea{
      width:100%;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.88);
      padding: 10px 12px;
      font-size: 13px;
      outline:none;
      transition: .2s ease;
      font-family: var(--fontText);
    }
    textarea{ min-height: 74px; resize: vertical; line-height: 1.55; }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(212,175,55,.35);
      box-shadow: 0 0 0 3px rgba(212,175,55,.10);
    }
    .hint{
      font-size: 12px;
      color: var(--muted2);
      margin-top: 10px;
      line-height: 1.45;
    }

    /* System tiles */
    .sysGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    .sys{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
      padding: 12px 12px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      transition: .2s ease;
    }
    .sys:hover{
      border-color: rgba(212,175,55,.22);
      background: rgba(0,0,0,.22);
    }
    .sys input[type="checkbox"]{
      width:16px; height:16px; margin-top:2px;
      accent-color: var(--gold);
    }
    .sysTitle{
      font-weight: 600;
      font-size: 13px;
      color: rgba(255,255,255,.86);
      margin: 0 0 4px;
    }
    .sysDesc{
      margin:0;
      font-size: 12px;
      color: var(--muted2);
      line-height: 1.45;
    }

    /* Output readability */
    .rows{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 14px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.07);
      background: rgba(0,0,0,.16);
    }
    .row .k{
      font-family: var(--fontTitle);
      letter-spacing: .12em;
      text-transform: uppercase;
      font-size: 10px;
      color: rgba(245,246,248,.62);
      white-space: nowrap;
    }
    .row .v{
      font-size: 13px;
      color: rgba(255,255,255,.86);
      text-align:right;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      max-width: 62%;
    }
    .row .v.mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      color: rgba(241,230,163,.88);
    }

    .pill{
      display:inline-flex;
      align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(212,175,55,.18);
      background: rgba(212,175,55,.06);
      font-size: 12px;
      color: rgba(255,255,255,.80);
      gap:8px;
      white-space: nowrap;
    }
    .pill strong{ font-weight: 700; color: rgba(241,230,163,.92); }
    .pill.muted{ border-color: rgba(255,255,255,.08); background: rgba(255,255,255,.02); color: var(--muted); }

    .inlinePills{ display:flex; flex-wrap: wrap; gap:8px; justify-content:flex-end; }

    /* Tabs */
    .tabs{
      display:flex; gap:8px; flex-wrap: wrap;
      margin-top: 12px;
    }
    .tab{
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor:pointer;
      transition:.2s ease;
      user-select:none;
    }
    .tab.active{
      border-color: rgba(212,175,55,.40);
      background: rgba(212,175,55,.08);
      color: rgba(255,255,255,.86);
    }

    /* Collapsible details */
    details{
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.14);
      border-radius: 16px;
      padding: 10px 12px;
    }
    summary{
      cursor:pointer;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    summary::-webkit-details-marker{ display:none; }
    .sumTitle{
      font-family: var(--fontTitle);
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: 10px;
      color: rgba(241,230,163,.78);
    }
    .sumHint{ font-size: 12px; color: var(--muted2); }
    .monoBlock{
      margin-top: 10px;
      padding: 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.08);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      line-height: 1.65; /* fixes “paquet” */
      color: rgba(245,246,248,.82);
      overflow:auto;
      max-width: 100%;
      white-space: pre-wrap;
      word-break: break-word;
    }
    .reading{
      max-width: 88ch; /* controls line length */
    }

    /* Right cockpit */
    .sticky{
      position: sticky;
      top: 86px;
    }
    .cockpitHead{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .cockpitBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(212,175,55,.18);
      background: rgba(0,0,0,.16);
      font-size: 12px;
      color: rgba(255,255,255,.78);
    }
    .cockpitBadge .dot2{
      width:7px;height:7px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, var(--gold2), var(--gold));
      box-shadow: 0 0 18px rgba(212,175,55,.28);
    }

    /* Footer CTA */
    .footerCta{
      margin-top: 18px;
      padding: 18px;
      border-radius: var(--radius);
      border: 1px solid rgba(212,175,55,.16);
      background: linear-gradient(90deg, rgba(212,175,55,.08), rgba(255,255,255,.02));
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap: wrap;
    }
    .footerCta p{
      margin:0;
      color: var(--muted);
      font-size: 12px;
      line-height:1.5;
      max-width: 82ch;
    }

    .foot{
      padding: 26px 0 38px;
      color: rgba(245,246,248,.42);
      font-size: 12px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap: wrap;
      border-top: 1px solid rgba(255,255,255,.06);
      margin-top: 22px;
    }

    /* Responsive */
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .sticky{ position: relative; top: auto; }
      .brand{ min-width: auto; }
      .cta{ min-width: auto; }
      .formGrid{ grid-template-columns: 1fr; }
      .sysGrid{ grid-template-columns: 1fr; }
      .row .v{ max-width: 55%; }
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="container">
      <div class="nav">
        <div class="brand">
          <div class="dot"></div>
          <div>
            <div class="brandTitle">OPENPROOF.NET — RPO v0.1</div>
            <div class="brandSub">Probative engine & governance</div>
          </div>
        </div>

        <!-- Per your rule: links open in new tab (even internal pages), except anchors -->
        <div class="navlinks" aria-label="Primary navigation">
          <a href="home.html" target="_blank" rel="noopener noreferrer">Home</a>
          <a class="active" href="simulator.html" target="_blank" rel="noopener noreferrer">Simulator</a>
          <a href="how-it-works.html" target="_blank" rel="noopener noreferrer">How it works</a>
          <a href="spec.html" target="_blank" rel="noopener noreferrer">Spec</a>
          <a href="tests.html" target="_blank" rel="noopener noreferrer">Tests</a>
          <a href="examples.html" target="_blank" rel="noopener noreferrer">Examples</a>
          <a href="contexts.html" target="_blank" rel="noopener noreferrer">Contexts</a>
        </div>

        <div class="cta">
          <a class="btn primary" href="pilot.html" target="_blank" rel="noopener noreferrer">Pilot cockpit</a>
        </div>
      </div>
    </div>
  </div>

  <main class="container">
    <!-- HERO -->
    <section class="hero panel" aria-label="Simulator header">
      <div class="panelInner">
        <div class="kicker">Deterministic simulator</div>
        <h1>Simulator. <span class="goldWord">Three contexts.</span> No AI. No interpretation.</h1>
        <p class="lead">
          This page produces a deterministic “institutional reaction bundle”: a sealed core (hash), a readable preview, and auditable invariants.
          Context only changes lexicon, weighting, visibility rules, and narrative template — not the sealed structure.
        </p>

        <div class="chipRow" id="heroChips">
          <span class="chip"><span class="tag">Context</span> <b id="chipContext">Institutional crisis</b></span>
          <span class="chip"><span class="tag">Moment T</span> <b id="chipMoment">2026-02-18</b></span>
          <span class="chip"><span class="tag">Stakeholders</span> <b id="chipStakeholders">enabled</b></span>
          <span class="chip"><span class="tag">Uncertainty log</span> <b id="chipUnc">enabled</b></span>
          <span class="chip"><span class="tag">Lineage</span> <b id="chipLin">enabled</b></span>
          <span class="chip"><span class="tag">Institutional exposure</span> <b id="chipExpo">LOW</b></span>
          <span class="chip"><span class="tag">Public hash</span> <b class="mono" id="chipHash">—</b></span>
        </div>

        <div class="heroActions">
          <button class="btn primary" id="btnGenerateTop">Generate bundle</button>
          <button class="btn ghost" id="btnLoadTop">Load example</button>
          <button class="btn ghost" id="btnResetTop">Reset</button>
        </div>

        <p class="hint">
          RPO = sealed JSON core + human-readable preview + public hash. The hash proves integrity over time, not “truth”. Accountability remains human.
        </p>
      </div>
    </section>

    <!-- MAIN GRID -->
    <section class="grid" aria-label="Simulator grid">
      <!-- LEFT COLUMN -->
      <div>
        <!-- INPUT -->
        <section class="card" aria-label="Input section">
          <div class="cardHead">
            <div class="cardTitle">Input — crisis perimeter</div>
            <div class="inlinePills">
              <span class="pill muted" title="Deterministic mode">Deterministic</span>
              <span class="pill muted" title="No AI used">No AI</span>
            </div>
          </div>

          <div class="cardBody">
            <div class="formGrid">
              <div class="field">
                <div class="label">Context</div>
                <select id="context">
                  <option value="crisis">Institutional crisis</option>
                  <option value="audit">Audit / litigation</option>
                  <option value="routine">Routine compliance</option>
                </select>
              </div>

              <div class="field">
                <div class="label">Decision type</div>
                <select id="decisionType">
                  <option value="compliance">Compliance / training decision</option>
                  <option value="workforce">Workforce / HR decision</option>
                  <option value="security">Security / incident governance</option>
                </select>
              </div>

              <div class="field">
                <div class="label">Organization scope</div>
                <input id="scope" value="Industrial group — multi-sites, multi-entities (EU + non-EU)" />
              </div>

              <div class="field">
                <div class="label">Institutional authority</div>
                <input id="authority" value="Group HR Authority" />
              </div>

              <div class="field">
                <div class="label">Moment T</div>
                <input id="moment" type="date" value="2026-02-18" />
              </div>

              <!-- NEW: owner + clock -->
              <div class="field">
                <div class="label">Decision record owner</div>
                <input id="owner" value="RH" />
              </div>

              <div class="field">
                <div class="label">SLA (hours)</div>
                <input id="slaHours" type="number" min="1" step="1" value="72" />
              </div>

              <div class="field">
                <div class="label">Deadline (auto or manual)</div>
                <input id="deadline" type="datetime-local" />
              </div>

              <div class="field" style="grid-column: 1 / -1;">
                <div class="label">Decision context (constraints, audit window)</div>
                <textarea id="decisionContext">Crisis framing: signals, stakeholders, constraints.
Stabilize uncertainty + contradictions. Prepare escalation to Legal / IT / COMEX as needed.</textarea>
              </div>
            </div>

            <div class="hint">
              Keep it factual. The simulator does not “decide truth”. It only evaluates reconstructibility risk at Moment T.
            </div>

            <div style="margin-top:14px;">
              <div class="label">Declared systems (HR / L&amp;D / Ops / Security)</div>
              <div class="sysGrid">
                <label class="sys">
                  <input type="checkbox" id="sysHris" checked />
                  <div>
                    <div class="sysTitle">HRIS / Core HCM</div>
                    <p class="sysDesc">Master data, identity, contracts, org structure, job families. Extract id + steward expected.</p>
                  </div>
                </label>

                <label class="sys">
                  <input type="checkbox" id="sysLms" checked />
                  <div>
                    <div class="sysTitle">LMS / TMS / LXP</div>
                    <p class="sysDesc">Training records, mandatory compliance, completion evidence. Useful for audit &amp; litigation exposure.</p>
                  </div>
                </label>

                <label class="sys">
                  <input type="checkbox" id="sysOps" checked />
                  <div>
                    <div class="sysTitle">Ops / KPI attestations</div>
                    <p class="sysDesc">Attested KPIs, operational traces, production constraints. Strengthens reconstructibility.</p>
                  </div>
                </label>

                <label class="sys">
                  <input type="checkbox" id="sysSec" checked />
                  <div>
                    <div class="sysTitle">IT / Security logs</div>
                    <p class="sysDesc">Access logs, device signals, tickets, anomalies. Critical for crisis framing &amp; attribution.</p>
                  </div>
                </label>

                <label class="sys">
                  <input type="checkbox" id="sysLegal" checked />
                  <div>
                    <div class="sysTitle">Legal snapshot</div>
                    <p class="sysDesc">Opposable markers, chain-of-custody, timestamps. Needed when proceedings are expected.</p>
                  </div>
                </label>

                <label class="sys">
                  <input type="checkbox" id="sysExternal" checked />
                  <div>
                    <div class="sysTitle">External context</div>
                    <p class="sysDesc">Regulatory constraints, public exposure, institutional triggers. Used as constraints only.</p>
                  </div>
                </label>
              </div>

              <div class="heroActions" style="margin-top:12px;">
                <button class="btn primary" id="btnGenerate">Generate</button>
                <button class="btn ghost" id="btnReset">Reset</button>
                <button class="btn ghost" id="btnLoad">Load example</button>
              </div>
            </div>
          </div>
        </section>

        <!-- OUTPUT -->
        <section class="card" aria-label="Output section" style="margin-top:18px;">
          <div class="cardHead">
            <div class="cardTitle">Output — institutional reaction bundle</div>
            <div class="inlinePills">
              <span class="pill muted" id="pillCoverage">Coverage: —</span>
              <span class="pill muted" id="pillMissing">Missing sources: —</span>
              <span class="pill muted" id="pillExpo">Institutional exposure: —</span>
            </div>
          </div>

          <div class="cardBody">
            <!-- STRATA: Summary / Key fields / Details -->
            <div class="rows">
              <div class="row">
                <div class="k">Coverage</div>
                <div class="v" id="outCoverage">—</div>
              </div>
              <div class="row">
                <div class="k">Defensibility</div>
                <div class="v" id="outDefensibility">—</div>
              </div>
              <div class="row">
                <div class="k">Seal</div>
                <div class="v" id="outSeal">—</div>
              </div>
              <div class="row">
                <div class="k">Public hash (sealed core)</div>
                <div class="v mono" id="outHash">—</div>
              </div>

              <!-- NEW: Decision record owner / clock -->
              <div class="row">
                <div class="k">Decision record owner / clock</div>
                <div class="v" id="outOwnerClock">—</div>
              </div>
            </div>

            <div style="margin-top:12px;">
              <div class="label">Escalation path (institutional)</div>
              <div class="row" style="margin-top:8px;">
                <div class="k">Owner set</div>
                <div class="v" id="escOwner">—</div>
              </div>
              <div class="row">
                <div class="k">Add IT / Sec</div>
                <div class="v" id="escIt">—</div>
              </div>
              <div class="row">
                <div class="k">Add Legal</div>
                <div class="v" id="escLegal">—</div>
              </div>
              <div class="row">
                <div class="k">COMEX brief</div>
                <div class="v" id="escComex">—</div>
              </div>
              <div class="row">
                <div class="k">Next institutional action</div>
                <div class="v reading" id="escNext">—</div>
              </div>
              <div class="hint">
                This path is triggered by defensibility + exposure bands. It does not claim “truth”; it structures institutional reaction.
              </div>
            </div>

            <div class="tabs" role="tablist" aria-label="Output tabs">
              <div class="tab active" data-tab="preview">Preview</div>
              <div class="tab" data-tab="sealed">Sealed JSON</div>
              <div class="tab" data-tab="proof">Proof &amp; invariants</div>
            </div>

            <div id="tab_preview" style="margin-top:12px;">
              <details open>
                <summary>
                  <span class="sumTitle">Readable preview</span>
                  <span class="sumHint">Scannable summary, stable structure</span>
                </summary>
                <div class="monoBlock reading" id="previewBlock">Generate to view preview.</div>
              </details>
            </div>

            <div id="tab_sealed" style="margin-top:12px; display:none;">
              <details>
                <summary>
                  <span class="sumTitle">Sealed JSON core</span>
                  <span class="sumHint">Deterministic fields + hash anchor</span>
                </summary>
                <div class="monoBlock" id="sealedBlock">{}</div>
              </details>
            </div>

            <div id="tab_proof" style="margin-top:12px; display:none;">
              <details>
                <summary>
                  <span class="sumTitle">Proof &amp; invariants</span>
                  <span class="sumHint">Audit-ready invariants + quality proxies</span>
                </summary>
                <div class="monoBlock" id="proofBlock">—</div>
              </details>
            </div>
          </div>
        </section>

        <!-- LINEAGE & QUALITY CHECKS -->
        <section class="card" aria-label="Lineage and quality checks" style="margin-top:18px;">
          <div class="cardHead">
            <div class="cardTitle">Lineage &amp; quality checks</div>
            <div class="inlinePills">
              <span class="pill muted" id="linExtract">HRIS-EXTRACT-001</span>
            </div>
          </div>
          <div class="cardBody">
            <div class="rows">
              <div class="row">
                <div class="k">HRIS system</div>
                <div class="v" id="linSys">HRIS</div>
              </div>
              <div class="row">
                <div class="k">Steward</div>
                <div class="v" id="linSteward">HR Data Steward</div>
              </div>
              <div class="row">
                <div class="k">Attributable</div>
                <div class="v" id="linAttr">YES</div>
              </div>
              <div class="row">
                <div class="k">Freshness</div>
                <div class="v" id="linFresh">MEDIUM</div>
              </div>
              <div class="row">
                <div class="k">Completeness</div>
                <div class="v" id="linComp">MEDIUM</div>
              </div>
              <div class="row">
                <div class="k">Definition drift</div>
                <div class="v" id="linDrift">LOW</div>
              </div>
              <div class="row">
                <div class="k">Duplicates</div>
                <div class="v" id="linDup">LOW</div>
              </div>
            </div>

            <div class="hint">
              These checks are deterministic proxies. They surface exposure and reconstruction risk without implying any “truth” judgment.
            </div>
          </div>
        </section>

        <!-- DECISION SUPPORT -->
        <section class="card" aria-label="Decision support" style="margin-top:18px;">
          <div class="cardHead">
            <div class="cardTitle">Decision support (deterministic)</div>
            <div class="inlinePills">
              <span class="pill muted" id="dsExpo">Institutional exposure: —</span>
            </div>
          </div>
          <div class="cardBody">
            <div class="rows">
              <div class="row">
                <div class="k">Top blockers</div>
                <div class="v reading" id="dsBlockers">—</div>
              </div>
              <div class="row">
                <div class="k">Next actions</div>
                <div class="v reading" id="dsNext">—</div>
              </div>
              <div class="row">
                <div class="k">What improves score</div>
                <div class="v reading" id="dsImprove">—</div>
              </div>
            </div>
            <div class="hint">
              This is not a “decision engine”. It is a defensibility layer: it tells you what is missing to make a decision reconstructible.
            </div>
          </div>
        </section>

        <!-- CTA -->
        <section class="footerCta" aria-label="Pilot call to action">
          <p>
            Ready to move from a deterministic simulator to a real ProofOps workflow: connectors, traceable extracts, sealed bundles,
            and repeatable decision defense — same principle: integrity, readability, verifiability — with an operational cockpit.
          </p>
          <a class="btn primary" href="pilot.html" target="_blank" rel="noopener noreferrer">Pilot cockpit</a>
        </section>

        <div class="foot" aria-label="Footer">
          <div>© OpenProof — RPO v0.1. Created by Gersende Ryard de Parcey.</div>
          <div>Spec · Simulator · Examples</div>
        </div>
      </div>

      <!-- RIGHT COLUMN -->
      <aside class="sticky" aria-label="Cockpit live panel">
        <section class="card">
          <div class="cardHead cockpitHead">
            <div class="cardTitle">Simulator cockpit (live)</div>
            <div class="cockpitBadge"><span class="dot2"></span> Integrity · Readability · Verifiability</div>
          </div>
          <div class="cardBody">
            <div class="rows">
              <div class="row">
                <div class="k">Scope</div>
                <div class="v" id="cpScope">—</div>
              </div>
              <div class="row">
                <div class="k">Moment T</div>
                <div class="v" id="cpMoment">—</div>
              </div>
              <div class="row">
                <div class="k">Coverage</div>
                <div class="v" id="cpCoverage">—</div>
              </div>
              <div class="row">
                <div class="k">Defensibility</div>
                <div class="v" id="cpDef">—</div>
              </div>
              <div class="row">
                <div class="k">Institutional exposure</div>
                <div class="v" id="cpExpo">—</div>
              </div>
              <div class="row">
                <div class="k">Owner / Deadline</div>
                <div class="v" id="cpClock">—</div>
              </div>
              <div class="row">
                <div class="k">Hash</div>
                <div class="v mono" id="cpHash">—</div>
              </div>
            </div>

            <div class="hint">
              Right panel is a “decision defense cockpit”. It summarizes reconstructibility at Moment T. It does not claim truth.
            </div>
          </div>
        </section>
      </aside>
    </section>
  </main>

  <script>
    /* -----------------------------
       Deterministic context mapping
    ------------------------------*/
    const CONTEXTS = {
      crisis: {
        label: "Institutional crisis",
        lexicon: {
          exposure: "Institutional exposure",
          nextAction: "Trigger escalation: add IT/Sec + Legal. Prepare COMEX brief with sealed hash + missing sources."
        },
        weights: { coverage: 0.45, quality: 0.20, constraints: 0.35 },
        bands: { highExpoThreshold: 2 } // missing sources threshold for HIGH exposure in crisis
      },
      audit: {
        label: "Audit / litigation",
        lexicon: {
          exposure: "Litigation exposure",
          nextAction: "Prepare audit-ready bundle: stabilize definitions + chain-of-custody. Escalate to Legal if gaps remain."
        },
        weights: { coverage: 0.50, quality: 0.30, constraints: 0.20 },
        bands: { highExpoThreshold: 1 }
      },
      routine: {
        label: "Routine compliance",
        lexicon: {
          exposure: "Compliance exposure",
          nextAction: "Continue data stabilization. Improve completeness and lineage. Keep sealed core for repeatability."
        },
        weights: { coverage: 0.55, quality: 0.30, constraints: 0.15 },
        bands: { highExpoThreshold: 3 }
      }
    };

    /* -----------------------------
       DOM helpers
    ------------------------------*/
    const $ = (id) => document.getElementById(id);
    const sysIds = ["sysHris","sysLms","sysOps","sysSec","sysLegal","sysExternal"];

    function selectedSystems(){
      return sysIds.filter(id => $(id).checked).map(id => {
        const map = {
          sysHris: "HRIS",
          sysLms: "LMS",
          sysOps: "OPS",
          sysSec: "SEC",
          sysLegal: "LEGAL",
          sysExternal: "EXT"
        };
        return map[id];
      });
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function fmtDateISO(d){
      const pad = (x)=> String(x).padStart(2,'0');
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    }

    function fmtClock(owner, deadlineISO, slaHours){
      const d = new Date(deadlineISO);
      const pad = (x)=> String(x).padStart(2,'0');
      const date = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
      const time = `${pad(d.getHours())}:${pad(d.getMinutes())}`;
      return `${owner} · SLA ${slaHours}h · Deadline ${date} ${time}`;
    }

    /* -----------------------------
       Deterministic scoring model
       (simple, auditable, no AI)
    ------------------------------*/
    function computeQualityProxies(){
      // Keep proxies deterministic; you can later wire to real lineage metrics.
      // For now: fixed set, but displayed & carried into invariants.
      return {
        freshness: "MEDIUM",
        completeness: "MEDIUM",
        definition_drift: "LOW",
        duplicates: "LOW",
        risk: "MEDIUM"
      };
    }

    function computeCoverage(selectedCount, total=6){
      return Math.round((selectedCount / total) * 100);
    }

    function computeDefensibility(coveragePct, quality, weights){
      // Translate proxies to numeric deterministically.
      const map = (v) => ({LOW: 0.25, MEDIUM: 0.55, HIGH: 0.85}[v] ?? 0.55);
      const qScore =
        0.25*map(quality.freshness) +
        0.35*map(quality.completeness) +
        0.20*(1 - map(quality.definition_drift)) +
        0.20*(1 - map(quality.duplicates));
      const cScore = clamp(coveragePct / 100, 0, 1);

      // constraints score: deterministic, based on context text length (proxy) and decision type
      const ctxLen = ($("decisionContext").value || "").trim().length;
      const constraints = clamp((ctxLen / 240), 0.2, 1); // longer context => higher constraint pressure
      const constrScore = 1 - (constraints * 0.35); // pressure reduces defensibility

      const score01 = (weights.coverage * cScore) + (weights.quality * qScore) + (weights.constraints * constrScore);
      const score100 = Math.round(clamp(score01, 0, 1) * 100);
      let band = "LOW";
      if(score100 >= 75) band = "HIGH";
      else if(score100 >= 55) band = "MEDIUM";
      return { band, score: score100 };
    }

    function computeExposure(missingSources, contextKey){
      const th = CONTEXTS[contextKey].bands.highExpoThreshold;
      if(missingSources >= th) return "HIGH";
      if(missingSources === th-1) return "MEDIUM";
      return "LOW";
    }

    function computeEscalation(exposure, defensBand, contextKey){
      // Deterministic escalation rules.
      const addIt = (contextKey === "crisis" && exposure !== "LOW") ? "YES" : (exposure === "HIGH" ? "YES" : "NO");
      const addLegal = (exposure !== "LOW" || defensBand === "LOW") ? "YES" : "NO";
      const comex = (contextKey === "crisis" && (exposure === "HIGH" || defensBand === "LOW")) ? "REQUIRED" :
                   (exposure === "HIGH" ? "OPTIONAL" : "OPTIONAL");
      return { addIt, addLegal, comex };
    }

    async function sha256Hex(str){
      const enc = new TextEncoder();
      const buf = await crypto.subtle.digest("SHA-256", enc.encode(str));
      const bytes = Array.from(new Uint8Array(buf));
      return bytes.map(b=>b.toString(16).padStart(2,"0")).join("");
    }

    function setDeadlineIfEmpty(){
      const deadline = $("deadline");
      const moment = $("moment").value;
      const sla = parseInt($("slaHours").value || "72", 10);
      if(deadline.value) return;

      // Deterministic: set deadline to MomentT 18:00 + SLA hours
      const base = new Date(moment + "T18:00:00");
      base.setHours(base.getHours() + sla);
      const pad=(x)=> String(x).padStart(2,'0');
      const iso = `${base.getFullYear()}-${pad(base.getMonth()+1)}-${pad(base.getDate())}T${pad(base.getHours())}:${pad(base.getMinutes())}`;
      deadline.value = iso;
    }

    function updateHeroChips(){
      const ctxKey = $("context").value;
      const ctx = CONTEXTS[ctxKey];
      $("chipContext").textContent = ctx.label;
      $("chipMoment").textContent = $("moment").value || "—";
    }

    function updateCockpitLive(snapshot){
      $("cpScope").textContent = snapshot.scope;
      $("cpMoment").textContent = snapshot.moment;
      $("cpCoverage").textContent = `${snapshot.coverage}%`;
      $("cpDef").textContent = `${snapshot.defensibility.band} (${snapshot.defensibility.score})`;
      $("cpExpo").textContent = snapshot.exposure;
      $("cpHash").textContent = snapshot.hashShort;
      $("cpClock").textContent = snapshot.ownerClockShort;

      // hero chips
      $("chipExpo").textContent = snapshot.exposure;
      $("chipHash").textContent = snapshot.hashShort;
    }

    function setTabs(){
      document.querySelectorAll(".tab").forEach(t=>{
        t.addEventListener("click", ()=>{
          document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
          t.classList.add("active");
          const key = t.getAttribute("data-tab");
          $("tab_preview").style.display = key==="preview" ? "" : "none";
          $("tab_sealed").style.display = key==="sealed" ? "" : "none";
          $("tab_proof").style.display = key==="proof" ? "" : "none";
        });
      });
    }

    function resetForm(){
      $("context").value = "crisis";
      $("decisionType").value = "compliance";
      $("scope").value = "Industrial group — multi-sites, multi-entities (EU + non-EU)";
      $("authority").value = "Group HR Authority";
      $("moment").value = "2026-02-18";
      $("owner").value = "RH";
      $("slaHours").value = "72";
      $("deadline").value = "";
      $("decisionContext").value =
`Crisis framing: signals, stakeholders, constraints.
Stabilize uncertainty + contradictions. Prepare escalation to Legal / IT / COMEX as needed.`;

      sysIds.forEach(id=> $(id).checked = true);

      // Clear outputs
      $("outCoverage").textContent = "—";
      $("outDefensibility").textContent = "—";
      $("outSeal").textContent = "—";
      $("outHash").textContent = "—";
      $("outOwnerClock").textContent = "—";
      $("escOwner").textContent = "—";
      $("escIt").textContent = "—";
      $("escLegal").textContent = "—";
      $("escComex").textContent = "—";
      $("escNext").textContent = "—";
      $("previewBlock").textContent = "Generate to view preview.";
      $("sealedBlock").textContent = "{}";
      $("proofBlock").textContent = "—";

      $("pillCoverage").textContent = "Coverage: —";
      $("pillMissing").textContent = "Missing sources: —";
      $("pillExpo").textContent = "Institutional exposure: —";
      $("dsExpo").textContent = "Institutional exposure: —";
      $("dsBlockers").textContent = "—";
      $("dsNext").textContent = "—";
      $("dsImprove").textContent = "—";

      $("cpScope").textContent = "—";
      $("cpMoment").textContent = "—";
      $("cpCoverage").textContent = "—";
      $("cpDef").textContent = "—";
      $("cpExpo").textContent = "—";
      $("cpHash").textContent = "—";
      $("cpClock").textContent = "—";

      updateHeroChips();
      $("chipExpo").textContent = "LOW";
      $("chipHash").textContent = "—";
    }

    function loadExample(){
      $("context").value = "crisis";
      $("decisionType").value = "workforce";
      $("scope").value = "Industrial group — multi-sites, multi-entities (EU + non-EU)";
      $("authority").value = "Group HR Authority";
      $("moment").value = "2026-02-18";
      $("owner").value = "RH";
      $("slaHours").value = "72";
      $("deadline").value = "";
      $("decisionContext").value =
`Regulated environment. Internal audit trigger. Need reconstructible workforce / learning records.
Constraints: audit window 24 months, multi-entity definitions, potential institutional exposure.`;

      // Example: intentionally missing Security logs to show escalation logic
      $("sysHris").checked = true;
      $("sysLms").checked = true;
      $("sysOps").checked = true;
      $("sysSec").checked = false;
      $("sysLegal").checked = true;
      $("sysExternal").checked = true;

      updateHeroChips();
      setDeadlineIfEmpty();
    }

    async function generate(){
      setDeadlineIfEmpty();

      const ctxKey = $("context").value;
      const ctx = CONTEXTS[ctxKey];
      const systems = selectedSystems();
      const selectedCount = systems.length;
      const coverage = computeCoverage(selectedCount, 6);
      const missing = 6 - selectedCount;

      const quality = computeQualityProxies();
      const defensibility = computeDefensibility(coverage, quality, ctx.weights);
      const exposure = computeExposure(missing, ctxKey);
      const escalation = computeEscalation(exposure, defensibility.band, ctxKey);

      const owner = ($("owner").value || "—").trim();
      const slaHours = parseInt($("slaHours").value || "72", 10);
      const deadlineISO = $("deadline").value;
      const ownerClock = (deadlineISO ? fmtClock(owner, deadlineISO, slaHours) : `${owner} · SLA ${slaHours}h · Deadline —`);
      const ownerClockShort = (deadlineISO ? ownerClock.replace("Deadline ", "") : ownerClock);

      // Sealed core JSON (structure stable)
      const core = {
        rpo_version: "v0.1",
        mode: "deterministic",
        context: ctxKey,
        context_label: ctx.label,
        decision_type: $("decisionType").value,
        scope: $("scope").value,
        authority: $("authority").value,
        moment_t: $("moment").value,
        decision_record_owner: owner,
        sla_hours: slaHours,
        deadline: deadlineISO || null,
        declared_sources: systems,
        coverage_pct: coverage,
        missing_sources: missing,
        quality_proxies: quality,
        defensibility: defensibility,
        exposure: exposure,
        escalation: escalation,
        note: "Hash proves integrity over time, not truth."
      };

      // Deterministic hash of sealed core
      const coreStr = JSON.stringify(core);
      const hash = await sha256Hex(coreStr);
      const hashShort = hash.slice(0, 10) + "…";

      // Update hero + cockpit chips
      updateCockpitLive({
        scope: core.scope,
        moment: core.moment_t,
        coverage,
        defensibility,
        exposure,
        hashShort,
        ownerClockShort
      });

      // Output fields
      $("outCoverage").textContent = `${coverage}%`;
      $("outDefensibility").textContent = `${defensibility.band} (${defensibility.score})`;
      $("outSeal").textContent = "SHA-256 sealed (core)";
      $("outHash").textContent = hash;
      $("outOwnerClock").textContent = ownerClock;

      $("pillCoverage").textContent = `Coverage: ${coverage}%`;
      $("pillMissing").textContent = `Missing sources: ${missing}`;
      $("pillExpo").textContent = `${ctx.lexicon.exposure}: ${exposure}`;

      // Escalation path
      $("escOwner").textContent = owner || "—";
      $("escIt").textContent = escalation.addIt;
      $("escLegal").textContent = escalation.addLegal;
      $("escComex").textContent = escalation.comex;

      // Next action text (context-aware)
      const nextAction =
        (exposure === "HIGH" || defensibility.band === "LOW")
          ? ctx.lexicon.nextAction
          : "Continue data stabilization. Improve completeness and lineage.";
      $("escNext").textContent = nextAction;

      // Preview (readable, not “paquet”)
      const preview =
`Decision: ${$("decisionType").options[$("decisionType").selectedIndex].text}
Scope: ${core.scope}
Authority: ${core.authority}
Moment T: ${core.moment_t}

Declared sources: ${systems.join(", ")}
Coverage: ${coverage}% | Missing: ${missing}
Defensibility: ${defensibility.band} (${defensibility.score}/100)
${ctx.lexicon.exposure}: ${exposure}

Decision record owner / clock:
- Owner: ${owner}
- SLA: ${slaHours}h
- Deadline: ${deadlineISO ? deadlineISO.replace("T"," ") : "—"}

Escalation path:
- Add IT/Sec: ${escalation.addIt}
- Add Legal: ${escalation.addLegal}
- COMEX brief: ${escalation.comex}
- Next institutional action: ${nextAction}

Seal:
- SHA-256 (sealed core): ${hash}
Note: the hash proves integrity over time, not “truth”.`;

      $("previewBlock").textContent = preview;

      // Sealed JSON
      const sealed = { ...core, public_hash_sha256: hash };
      $("sealedBlock").textContent = JSON.stringify(sealed, null, 2);

      // Proof & invariants (audit-ready)
      const invariants =
`Invariants (audit-ready)
- Context: ${ctx.label} (${ctxKey})
- Mode: deterministic (no AI)
- Moment T: ${core.moment_t}
- Scope / Authority: ${core.scope} / ${core.authority}
- Declared sources: ${systems.join(", ")}
- Coverage: ${coverage}% (missing ${missing})
- Weighting: coverage=${ctx.weights.coverage}, quality=${ctx.weights.quality}, constraints=${ctx.weights.constraints}
- Quality checks: Freshness=${quality.freshness}, Completeness=${quality.completeness}, Drift=${quality.definition_drift}, Duplicates=${quality.duplicates}, Risk=${quality.risk}
- Defensibility: ${defensibility.band} (${defensibility.score})
- Exposure: ${exposure}
- Escalation: IT/Sec=${escalation.addIt}, Legal=${escalation.addLegal}, COMEX=${escalation.comex}
- Decision record owner / clock: ${ownerClock}

Hash anchor
- SHA-256 (sealed core): ${hash}
Note: the hash proves integrity over time, not “truth”.`;

      $("proofBlock").textContent = invariants;

      // Decision support
      $("dsExpo").textContent = `${ctx.lexicon.exposure}: ${exposure}`;
      const blockers = [];
      if(!systems.includes("SEC") && ctxKey === "crisis") blockers.push("Missing security logs (crisis framing)");
      if(!systems.includes("LMS") && $("decisionType").value === "compliance") blockers.push("Missing learning/compliance sources (LMS/TMS/LXP)");
      if(!systems.includes("LEGAL") && (ctxKey === "audit" || exposure !== "LOW")) blockers.push("Missing legal snapshot (chain-of-custody markers)");
      $("dsBlockers").textContent = blockers.length ? blockers.join(" · ") : "—";

      const nexts = [];
      if(missing > 0) nexts.push("Declare missing sources (connectors / extracts)");
      if(defensibility.band === "LOW") nexts.push("Stabilize uncertainty + contradictions");
      if(exposure === "HIGH") nexts.push("Prepare brief with sealed hash + evidence gaps");
      $("dsNext").textContent = nexts.length ? nexts.join(" · ") : "Continue stabilization";

      const improves = [];
      improves.push("Consolidate lineage + definitions");
      if(missing > 0) improves.push("Increase coverage (sources)");
      if(defensibility.score < 75) improves.push("Improve completeness + freshness");
      $("dsImprove").textContent = improves.join(" · ");
    }

    function wireLiveUpdates(){
      const inputs = ["context","decisionType","scope","authority","moment","owner","slaHours","deadline","decisionContext"].concat(sysIds);
      inputs.forEach(id=>{
        $(id).addEventListener("input", ()=>{
          updateHeroChips();
          // Update cockpit scope/moment immediately even before generate
          $("cpScope").textContent = $("scope").value || "—";
          $("cpMoment").textContent = $("moment").value || "—";
          // Update owner/clock in cockpit live (without hash)
          setDeadlineIfEmpty();
          const owner = ($("owner").value || "—").trim();
          const sla = parseInt($("slaHours").value || "72", 10);
          const deadline = $("deadline").value;
          $("cpClock").textContent = deadline ? fmtClock(owner, deadline, sla).replace("Deadline ", "") : `${owner} · SLA ${sla}h · Deadline —`;
          $("chipMoment").textContent = $("moment").value || "—";
          $("chipContext").textContent = CONTEXTS[$("context").value].label;
        });
      });

      $("context").addEventListener("change", ()=>{
        // Also reflect exposure label changes in pills once generated.
        $("pillExpo").textContent = `${CONTEXTS[$("context").value].lexicon.exposure}: —`;
      });
    }

    // Buttons
    function wireButtons(){
      $("btnGenerate").addEventListener("click", generate);
      $("btnGenerateTop").addEventListener("click", generate);
      $("btnReset").addEventListener("click", resetForm);
      $("btnResetTop").addEventListener("click", resetForm);
      $("btnLoad").addEventListener("click", ()=>{ loadExample(); generate(); });
      $("btnLoadTop").addEventListener("click", ()=>{ loadExample(); generate(); });
    }

    // Init
    setTabs();
    resetForm();
    wireButtons();
    wireLiveUpdates();
  </script>
</body>
</html>


